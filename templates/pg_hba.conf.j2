{%  macro table_row(acl_type, database, user, addr, method) %}
{%    filter replace('\n', '') %}
{{      '{:9s}'.format(acl_type) }}
{{      '{:16s}'.format(database) }}
{{      '{:16s}'.format(user) }}
{{      '{:30s}'.format(addr) }}
{{      '{:8s}'.format(method) }}
{%    endfilter %}
{%  endmacro -%}

{{  table_row('# Type', 'Database', 'User', 'Address', 'Method') }}
{%  for acl in (pgha_hba_defaults + [pgha_user]) %}
{{    table_row(acl.type, acl.database, acl.user, (acl.address | default('')), acl.method) }}
{%  endfor %}
